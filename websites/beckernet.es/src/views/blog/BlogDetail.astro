---
import Container from "@/components/ui/Container.astro";
import { imageUrl } from "@/lib/cms";
import type { Language } from "@/lib/i18n";
import type { BlogPost, BlogPostCategory } from "@pulpo/cms";

type Props = {
  lang: Language;
  post: BlogPost;
  category: BlogPostCategory;
};
const { post, lang } = Astro.props;
const t = post.translations[0];
---

<article class="py-24 sm:py-32">
  <Container class="max-w-4xl">
    <!-- Header -->
    <header class="mb-12 text-center">
      <span
        class="text-secondary font-bold tracking-widest uppercase text-sm mb-6 block"
      >
        {new Date(post.date).toLocaleDateString(lang)}
      </span>
      <h1
        class="text-4xl md:text-6xl font-serif text-white mb-8 leading-tight text-balance"
      >
        {t.title}
      </h1>
    </header>

    <!-- Main Image -->
    {
      post.image && (
        <div class="aspect-video w-full overflow-hidden mb-16 border border-border">
          <img
            src={imageUrl(post.image.id, 1200)}
            alt={t.title}
            class="w-full h-full object-cover"
          />
        </div>
      )
    }

    <!-- Content -->
    <div
      class="prose prose-lg prose-invert prose-headings:font-serif prose-headings:text-white prose-p:text-text-muted prose-a:text-secondary mx-auto"
    >
      <div set:html={t.content} />
    </div>
  </Container>
</article>
