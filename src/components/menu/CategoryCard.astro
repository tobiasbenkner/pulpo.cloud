---
import type { Category } from "../../collections/Product";
import { t } from "../../utils/t";
import ProductCard from "./ProductCard.astro";

type Props = {
  category: Category;
};
const { lang = "es" } = Astro.params;
const { category } = Astro.props;
---

<section id={category.id} class="scroll-mt-36">
  <div class="relative h-64 md:h-80 w-full overflow-hidden rounded-lg mb-12">
    {
      category.photo ? (
        <img
          src={category.photo}
          alt={t(category.name, lang)}
          class="absolute inset-0 w-full h-full object-cover"
        />
      ) : (
        <div class="absolute inset-0 bg-card" />
      )
    }

    <div class="absolute inset-0 bg-black/50 flex items-center justify-center">
      <h2
        class="text-4xl md:text-6xl font-extrabold tracking-wider uppercase"
        style={{ textShadow: "2px 2px 8px rgba(0,0,0,0.7)" }}
      >
        {t(category.name, lang)}
      </h2>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8">
    {category.products.map((product) => <ProductCard product={product} />)}
  </div>
</section>
